!function(){"use strict";var initiatedAccordions=new WeakMap;function initAccordions(){for(var accordions=document.querySelectorAll(".accordion"),i=0;i<accordions.length;i++){var accordion=accordions[i];initiatedAccordions.has(accordion)||accordion instanceof HTMLElement&&(initAccordion(accordion),initiatedAccordions.set(accordion,!0))}document.body.classList.add("js-accordion-loaded")}function initAccordion(accordion){for(var element,hasAriaExpandedMarkup=!1,buttons=function(accordion){for(var buttons=[],i=0;i<accordion.children.length;i++)for(var container=accordion.children[i],j=0;j<container.children.length;j++){var child=container.children[j];"BUTTON"===child.tagName&&buttons.push(child)}return buttons}(accordion),i=0;i<buttons.length;i++){var button=buttons[i];if(!button.getAttribute("aria-controls")){var sibling=button.nextElementSibling;if(!(sibling instanceof HTMLElement)||"DIV"!==sibling.tagName){console.error("No sibling <div> found for accordion button:",button);continue}(element=sibling).id||(element.id=element.tagName+"-"+(1e9+~~(1e9*Math.random())).toString(16)),button.setAttribute("aria-controls",sibling.id)}button.getAttribute("aria-expanded")?hasAriaExpandedMarkup=!0:button.setAttribute("aria-expanded","false"),button.addEventListener("click",(function(event){var target=event.target;if(target instanceof HTMLElement){var expanded="true"===target.getAttribute("aria-expanded");target.setAttribute("aria-expanded",expanded?"false":"true")}}))}hasAriaExpandedMarkup||buttons[0].setAttribute("aria-expanded","true")}!function(fn){if("loading"!==document.readyState)return fn();document.addEventListener("DOMContentLoaded",fn)}(initAccordions),function(handler,root){if("MutationObserver"in window){var observer=new MutationObserver(handler);observer.observe(root||document,{childList:!0,subtree:!0}),observer.disconnect.bind(observer)}}(initAccordions)}();
//# sourceMappingURL=accordion.min.js.map
